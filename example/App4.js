let c = document.querySelector("#c");
let ctx = c.getContext("2d");
let sel = document.querySelector("#sel");

const CTRL = 0b0001;
const ALT = 0b0010;
const SHIFT = 0b0100;
const META = 0b1000

let zoom_in = 1.05;
let zoom_out = 1 / 1.05;
let zoom_inL = 1.15;
let zoom_outL = 1 / 1.15;
let rotate_angle = math.pi / 500;
let rotate_angleL = math.pi / 50;
let translatel = 1;
let translatelL = 5;

let drag = false;
let drag_point = null;
let is_dragging = false;

let el = null;

const world = new World();

function draw_point(x, y, r) {
    ctx.beginPath();
    ctx.arc(x, y, r, 0, 2 * Math.PI, false);
    ctx.fillStyle = 'blue';
    ctx.fill();
    ctx.strokeStyle = '#003300';
    ctx.stroke();
};

function draw_center() {
    draw_point(0, 0, 1);
};


function draw_axis() {
    ctx.lineWidth = 1 / world.getScaleFactor().x;
    ctx.beginPath();
    ctx.moveTo(-(2 << 30), 0);
    ctx.lineTo((2 << 30), 0);
    ctx.lineWidth = 1 / world.getScaleFactor().y;
    ctx.moveTo(0, -(2 << 30));
    ctx.lineTo(0, (2 << 30));
    ctx.stroke();
};

function clear() {
    ctx.save();
    ctx.setTransform(1, 0, 0, 1, 0, 0);
    ctx.clearRect(0, 0, c.width, c.height);
    ctx.restore();
};

function draw() {
    clear();
    draw_axis();
    draw_center()
    world.draw();

}

//const ellipse = new Ellipse(300,220);
//world.addElement(ellipse)

const bezier_verices = {
    start: [125, 40],
    points: [
        [95, -60, -125, 60, 125, 210],
        [375, 60, 155, -60, 125, 40]
    ]
}

const svg_path = [
    {
        fill: "#00000000",
        stroke: "black",
        path: [
            "M469.584,428.409c-2.087-2.379-5.041-4.709-8.846-6.995c-0.575-0.373-2.143-1.279-4.702-2.7" +
            "c-2.566-1.43-4.613-2.666-6.143-3.716c-1.52-1.048-3.519-2.854-5.996-5.425c-2.471-2.566-4.421-5.283-5.852-8.138" +
            "c-1.427-2.851-2.807-6.704-4.141-11.56c-1.335-4.856-2.088-10.232-2.283-16.133c-2.666,2.276-4.138,6.797-4.425,13.559" +
            "c-0.287,6.756,1.144,13.651,4.285,20.694c3.138,7.046,7.85,11.607,14.13,13.706c6.088,2.098,10.988,4.328,14.705,6.707" +
            "c3.706,2.382,6.091,5.089,7.139,8.135c1.047,3.053-0.719,6.334-5.284,9.852c-4.572,3.525-11.898,6.995-21.984,10.432" +
            "c-13.894,4.753-23.746,8.802-29.554,12.128c-5.804,3.333-14.317,9.664-25.55,18.986c-7.617,6.282-15.704,9.664-24.273,10.14" +
            "c-8.559,0.479-15.512-2.662-20.837-9.418c-5.332-6.755-7.05-16.316-5.144-28.695c3.617-23.79,3.528-42.349-0.277-55.671" +
            "c-3.046-10.469-3.717-19.702-1.998-27.696c1.711-7.986,4.373-12.647,7.994-13.982c3.606-1.338,7.515,1.52,11.703,8.559" +
            "c0.373,0.951,1.235,2.807,2.563,5.568c1.331,2.758,2.423,4.716,3.288,5.852c0.856,1.143,2.14,2.618,3.854,4.429" +
            "c1.711,1.813,3.864,3.093,6.427,3.859c2.567,0.76,5.562,1.235,8.994,1.424c6.471,0.188,12.271-1.143,17.415-3.997" +
            "c5.137-2.854,8.997-6.043,11.563-9.564c2.566-3.525,5.14-6.899,7.707-10.137c2.566-3.241,4.805-5.048,6.711-5.431" +
            "c2.091-0.373,3.997-2.468,5.711-6.28c1.712-3.805,2.854-9.086,3.426-15.841c0.575-6.759,0.096-14.801-1.424-24.123" +
            "c-2.857-16.566-8.524-34.741-16.991-54.535c-8.473-19.797-17.936-35.309-28.407-46.54c-18.842-19.983-31.494-40.729-37.972-62.239" +
            "c-6.656-22.648-9.507-43.015-8.559-61.098c0.954-12.944-1.855-26.982-8.419-42.115c-6.563-15.131-15.276-26.694-26.125-34.688" +
            "c-6.851-5.137-15.324-9.086-25.406-11.848c-10.088-2.762-20.179-4.043-30.267-3.855c-12.369,0-22.27,1.997-29.69,5.996" +
            "c-15.227,8.186-25.312,18.13-30.264,29.836c-4.952,11.704-7.232,26.122-6.854,43.253c0.765,37.687,2.284,67.189,4.57,88.505" +
            "c-2.667,9.899-14.465,28.454-35.404,55.672c-3.809,3.809-7.521,8.947-11.138,15.418c-3.615,6.473-6.471,12.28-8.564,17.415" +
            "c-2.096,5.137-4.902,12.56-8.423,22.269c-3.523,9.705-6.042,16.56-7.566,20.554c-1.332,3.432-3.427,7.422-6.28,11.998" +
            "c-2.856,4.564-5.145,9.041-6.854,13.411c-1.709,4.377-2.663,9.325-2.853,14.846c-0.19,4.188,0,7.806,0.572,10.848" +
            "c0.759,4.575,2.19,5.999,4.281,4.288c8.569-6.472,19.323-2.666,32.264,11.423c9.136,9.897,25.221,32.929,48.251,69.094" +
            "c1.903,3.234,3.805,6.707,5.708,10.428c1.908,3.706,3.711,8.65,5.426,14.838c1.713,6.194,2.428,11.756,2.141,16.707" +
            "c-0.288,4.952-2.474,9.521-6.567,13.702c-4.093,4.186-10.232,6.849-18.415,7.991c-4.38,0.571-9.657,0.195-15.846-1.143" +
            "c-6.186-1.332-14.038-3.519-23.553-6.564c-9.517-3.042-16.558-5.14-21.127-6.283c-6.658-1.526-16.127-3.467-28.406-5.852" +
            "c-12.278-2.382-20.322-4.141-24.128-5.284c-6.471-1.711-9.991-4.182-10.561-7.422c-0.572-2.666,0.76-7.231,3.997-13.699" +
            "c3.239-6.472,4.854-11.14,4.854-13.99c0.188-2.098,0.094-4.185-0.288-6.282c-0.378-2.095-0.806-3.714-1.283-4.856" +
            "c-0.476-1.14-1.285-2.854-2.428-5.141c-1.143-2.282-1.903-4-2.284-5.136c-3.424-7.998-3.901-13.429-1.427-16.279" +
            "c1.711-2.475,5.804-3.426,12.275-2.852c9.707,0.952,17.605-0.479,23.697-4.287c10.085-6.28,13.134-16.368,9.135-30.266" +
            "c0,6.471-1.143,11.32-3.427,14.561c-2.284,3.234-6.283,6.567-11.991,9.996c-3.234,1.903-8.947,3.043-17.129,3.43" +
            "c-8.183,0.38-13.61,1.714-16.274,3.997c-1.902,1.714-2.9,4.284-2.996,7.71c-0.094,3.433,0.337,6.899,1.287,10.424" +
            "c0.95,3.521,1.903,7.562,2.853,12.132c0.953,4.571,1.331,8.381,1.143,11.423c-0.19,2.091-1.908,7.282-5.142,15.554" +
            "c-3.234,8.282-3.9,14.612-1.997,18.986c0.953,2.098,2.568,3.956,4.853,5.571c2.283,1.618,5.471,2.998,9.563,4.145" +
            "c4.089,1.143,7.85,2.046,11.278,2.71c3.424,0.66,8.182,1.522,14.272,2.563c6.091,1.043,10.944,1.954,14.561,2.71" +
            "c12.182,2.478,26.075,6.57,41.684,12.278c15.607,5.712,26.169,8.658,31.689,8.847c5.33,0.188,10.42-0.903,15.275-3.285" +
            "c4.853-2.375,8.992-5.089,12.419-8.135c3.424-3.046,8.516-5.903,15.271-8.565c6.76-2.666,14.325-4.093,22.701-4.284" +
            "c3.806-0.188,9.326-0.428,16.558-0.712c7.233-0.288,12.656-0.428,16.273-0.428c16.368,0,28.739,0.092,37.113,0.283" +
            "c5.711,0.195,10.184,1.096,13.421,2.715c3.234,1.615,5.332,3.473,6.28,5.563c0.951,2.099,2.529,4.521,4.719,7.283" +
            "c2.184,2.758,4.99,4.996,8.412,6.707c7.23,3.429,15.704,4.808,25.413,4.141c9.705-0.664,16.18-2.522,19.413-5.567" +
            "c5.329-5.137,12.512-11.231,21.553-18.271c9.042-7.039,17.187-12.371,24.414-15.988c1.52-0.767,4.09-2.002,7.707-3.717" +
            "c3.613-1.714,6.656-3.186,9.13-4.428c2.475-1.238,5.476-2.81,8.99-4.712c3.524-1.906,6.379-3.665,8.569-5.284" +
            "c2.189-1.619,4.421-3.47,6.707-5.568c2.283-2.091,3.758-4.185,4.429-6.279c0.657-2.094,0.903-4.236,0.712-6.424" +
            "C472.819,433.073,471.682,430.794,469.584,428.409z M316.559,152.468c0.568-0.378,0.952-0.522,1.14-0.428" +
            "c0.192,0.096,0.572,0.478,1.14,1.143c0.575,0.666,1.092,1.287,1.574,1.858c0.473,0.566,1.137,1.331,1.992,2.281" +
            "c0.855,0.953,1.759,1.713,2.707,2.284c1.149,0.76,2.525,1.287,4.144,1.571c1.619,0.284,2.857,0.76,3.717,1.425" +
            "s1.479,1.759,1.852,3.284c0.376,2.096,0.058,3.995-0.989,5.708c-1.054,1.715-2.43,2.478-4.147,2.286" +
            "c-3.426-0.762-7.139-3.758-11.133-8.993C314.564,159.653,313.894,155.514,316.559,152.468z M281.154,41.555" +
            "c0.948-1.237,1.52-2.236,1.708-2.996c0.38-1.146,0.428-2.334,0.144-3.571s-0.191-2.474,0.284-3.711" +
            "c0.479-1.237,1.574-1.951,3.288-2.141c1.712,0,3.997,1.429,6.852,4.283c0.568,0.382,1.472,0.953,2.703,1.713" +
            "c1.239,0.762,2.095,1.427,2.57,1.997c0.476,0.568,0.712,1.049,0.712,1.427c-0.38,0.95-1.235,1.622-2.563,2" +
            "c-1.327,0.378-2.762,0.572-4.281,0.572s-2.382,0.094-2.569,0.284c-1.523,0.572-2.95,1.427-4.285,2.568" +
            "c-1.331,1.143-2.378,1.999-3.138,2.57c-0.767,0.57-1.526,0.57-2.286,0c-0.76-1.143-1.047-1.952-0.855-2.426" +
            "C279.631,43.65,280.203,42.792,281.154,41.555z M142.972,255.256c1.328-1.521,2.283-2.758,2.853-3.711" +
            "c0.571-0.953,1.093-2.238,1.57-3.854c0.476-1.62,0.904-2.811,1.285-3.571c0.383-0.765,0.955-1.049,1.715-0.859" +
            "c0.378-0.094,0.662,0.094,0.859,0.571c0.188,0.476,0.284,0.715,0.284,0.715v0.857c0,0.288-0.049,0.666-0.144,1.143" +
            "c-0.096,0.48-0.24,0.907-0.428,1.285c-0.193,0.383-0.382,0.955-0.571,1.714c-0.19,0.76-0.378,1.427-0.572,1.997" +
            "c-0.76,1.908-1.952,3.617-3.567,5.141c-1.619,1.522-2.81,2.189-3.571,1.998C141.543,258.304,141.641,257.157,142.972,255.256z" +
            " M329.683,431.41c-0.38,6.088-1.666,14.657-3.856,25.697c-2.19,11.036-3.572,18.366-4.145,21.98" +
            "c-3.997-0.195-6.279-1.67-6.851-4.429c-0.568-2.762,0-6.327,1.714-10.707c4.186-12.758,6.369-21.512,6.564-26.266" +
            "c0.387-8.757-0.568-13.706-2.848-14.846c-2.102-1.522-5.335,1.335-9.712,8.562c-8.381,13.706-25.222,21.98-50.535,24.842" +
            "c-22.836,3.046-38.634-0.38-47.392-10.283c-1.903-1.332-3.806-1.568-5.708-0.709c-1.903,0.849-3.14,1.759-3.711,2.703" +
            "c-0.188,0.384,0,0.952,0.572,1.715c0.571,0.764,1.475,1.902,2.712,3.426c1.237,1.529,2.236,3.046,2.996,4.575" +
            "c7.426,12.939,6.761,21.693-1.997,26.262c0-8.75-0.666-15.461-1.997-20.122c-1.333-4.664-3.995-9.801-7.994-15.42" +
            "c-3.995-5.613-6.755-9.85-8.276-12.703c5.708-0.568,10.039-2.759,12.99-6.567c2.95-3.806,4.281-7.898,3.997-12.275" +
            "c-0.286-4.38-1.95-7.998-4.996-10.852c-1.713-1.711-10.566-8.993-26.553-21.841c-15.986-12.847-25.885-21.46-29.69-25.837" +
            "c-0.765-0.763-3.046-2.666-6.854-5.712c-3.809-3.045-6.189-5.708-7.139-7.994c-8.757-19.215-9.707-35.021-2.856-47.387" +
            "l1.141-1.427c0.95-0.188,1.046,1.522,0.284,5.141c-1.141,5.331-1.52,10.656-1.141,15.988c0.76,11.994,4.187,20.937,10.277,26.833" +
            "c3.999,4.004,6.757,3.717,8.281-0.853c1.143-1.526,1.665-7.139,1.569-16.851c-0.091-9.702,0.05-16.269,0.431-19.698" +
            "c1.524-10.848,6.045-24.27,13.562-40.251c7.517-15.99,13.468-24.556,17.845-25.697c-3.427-5.52-4.521-11.516-3.283-17.988" +
            "c1.235-6.472,3.237-11.995,5.995-16.56c2.757-4.567,5.568-9.847,8.42-15.844c2.856-5.996,4.283-11.374,4.283-16.132" +
            "c0-1.33,0.098-2.283,0.288-2.854c0.57-1.713,2.95,0.38,7.137,6.279c7.994,11.803,13.99,18.752,17.988,20.845" +
            "c4.187,2.281,8.848,2.187,13.988-0.288c5.138-2.474,11.466-6.567,18.986-12.275c7.515-5.708,13.939-9.897,19.27-12.559" +
            "c0.575-0.193,1.476-0.621,2.718-1.287c1.231-0.662,2.183-1.141,2.847-1.429c0.661-0.284,1.52-0.711,2.57-1.283" +
            "c1.04-0.571,1.848-1.047,2.42-1.429c0.571-0.383,1.143-0.811,1.711-1.287c0.567-0.478,0.947-0.95,1.143-1.427" +
            "c0.191-0.476,0.287-0.903,0.287-1.285c-0.383-1.714-1.19-2.762-2.43-3.14c-1.238-0.38-2.901-0.144-4.996,0.715" +
            "c-2.094,0.857-4.428,2-6.995,3.426c-2.566,1.427-5.42,3.045-8.562,4.854c-3.139,1.809-6.328,3.472-9.562,4.997" +
            "c-3.234,1.524-6.662,2.856-10.279,3.999c-3.616,1.14-7.042,1.809-10.277,1.999c-7.994,0.191-14.368-1.899-19.126-6.28" +
            "c-3.045-2.858-4.661-4.665-4.854-5.426c-0.192-0.759,0.666-0.949,2.568-0.571c10.282,1.333,17.798,1.521,22.557,0.571" +
            "c4.948-0.759,11.609-2.95,19.985-6.567c1.715-0.76,6.04-2.618,12.994-5.568c6.943-2.946,12.323-4.993,16.129-6.136" +
            "c2.289-0.572,3.86-1.475,4.716-2.712c0.852-1.237,1.14-2.38,0.852-3.428c-0.283-1.045-0.903-1.853-1.851-2.424" +
            "c-2.099-1.143-4.001-0.38-5.708,2.284c-0.955,1.713-2.957,3.381-6,4.997c-3.042,1.62-5.854,2.855-8.422,3.711" +
            "c-2.569,0.855-5.852,1.855-9.851,2.996c-3.999,1.143-6.184,1.809-6.567,1.999c-10.467,3.234-20.174,4.663-29.121,4.281" +
            "c-4.188-0.188-7.565-0.809-10.133-1.856c-2.57-1.044-4.333-2.281-5.282-3.711c-0.953-1.425-2.474-3.234-4.568-5.424" +
            "c-2.096-2.19-4.476-4.045-7.139-5.57c-1.903-0.95-2.618-2.663-2.141-5.137c0.476-2.474,1.951-5.046,4.425-7.71" +
            "c0.19-0.192,2.142-1.379,5.852-3.569c3.711-2.19,6.329-4.427,7.854-6.711c1.709-2.664,4.661-5.426,8.848-8.282" +
            "c0.19-0.76,0.334-2.853,0.428-6.279c0.094-3.424-0.809-7.136-2.712-11.133c-1.903-3.999-4.475-5.995-7.71-5.995" +
            "c-4.569-0.19-7.804,1.141-9.707,3.997c-1.903,2.852-2.757,6.375-2.568,10.562c0.193,3.615,1.097,6.801,2.712,9.563" +
            "c1.619,2.762,3.095,4.143,4.427,4.143c2.092-0.193,2.758,0.566,1.997,2.281c-1.141,2.096-2.666,3.431-4.568,3.999" +
            "c-1.336,0.378-2.812-0.905-4.427-3.855c-1.619-2.95-2.855-6.517-3.711-10.706c-0.855-4.187-1.191-7.708-0.998-10.566" +
            "c0.378-5.9,1.947-11.563,4.709-16.988c2.762-5.424,6.711-8.042,11.848-7.854c5.33,0.193,9.616,3.431,12.85,9.71" +
            "c3.239,6.28,4.76,14.849,4.57,25.697c0.572,1.333,2.046,1.809,4.427,1.427c2.375-0.382,5.518-0.431,9.419-0.144" +
            "c3.899,0.284,6.706,1.282,8.42,2.996c0.193,0,0.288-1.43,0.288-4.283c-3.427-23.979,5.042-36.732,25.41-38.256" +
            "c3.039,0.572,5.609,1.287,7.7,2.141c2.101,0.855,4.329,2.286,6.711,4.283c2.385,1.997,4.376,4.899,5.995,8.708" +
            "c1.619,3.811,2.905,8.569,3.856,14.277v10.562c0,6.09-1.242,9.517-3.716,10.279c-3.994,1.331-6.845,1.285-8.556-0.144" +
            "c-1.715-1.43-1.529-3.949,0.568-7.566c1.902-4.758,1.522-10.282-1.144-16.562c-2.662-6.279-7.519-9.135-14.558-8.563" +
            "c-4.76,0.191-8.186,2.761-10.28,7.708c-2.094,4.949-2.853,9.803-2.282,14.562c0.571,4.758,1.615,7.232,3.142,7.421" +
            "c1.14,0.193,4.523,1.714,10.137,4.57c5.622,2.855,9.855,4.567,12.706,5.138c7.423,1.52,11.652,3.9,12.703,7.137" +
            "c1.047,3.239,0.619,7.948-1.283,14.133c-1.906,6.189-2.475,11.276-1.708,15.275c0.76,4.192,2.19,7.994,4.285,11.42" +
            "c2.094,3.429,4.325,6.567,6.707,9.424c2.378,2.849,5.181,8.183,8.425,15.985c3.231,7.806,6.181,17.607,8.843,29.408" +
            "c0.188,0.19,0.9,0.856,2.14,1.999c1.238,1.141,2.471,2.568,3.713,4.281c1.242,1.714,2.714,4.045,4.428,6.995" +
            "c1.712,2.952,3.573,7.282,5.571,12.994c1.992,5.708,3.854,12.279,5.564,19.698c2.095,8.761,3.189,18.935,3.285,30.553" +
            "c0.097,11.608,0.856,19.555,2.286,23.839c1.431,4.288,5.093,6.047,10.992,5.284c7.423-0.38,12.187-4.377,14.271-11.991" +
            "c6.283-22.08,1.15-48.54-15.413-79.37c-6.283-11.992-11.704-19.892-16.276-23.697c6.66,3.806,13.515,10.941,20.561,21.413" +
            "c7.043,10.47,11.512,20.275,13.415,29.405c0.185,0.955,0.712,3.478,1.567,7.566c0.855,4.093,1.334,6.475,1.424,7.139" +
            "c0.092,0.667,0.479,2.618,1.14,5.853c0.67,3.236,0.999,5.331,0.999,6.282c0,0.955,0.092,2.81,0.287,5.568" +
            "c0.195,2.758,0.144,4.9-0.144,6.423c-0.287,1.526-0.568,3.573-0.855,6.137c-0.287,2.569-0.76,5.044-1.427,7.426" +
            "c-0.657,2.378-1.373,5-2.136,7.851c10.465,4.568,15.701,8.562,15.701,11.991c-3.994-3.237-9.709-5.376-17.135-6.413" +
            "c-7.427-1.051-14.318-0.052-20.697,2.994s-9.664,8.087-9.856,15.126c-6.851,0-11.707,1.711-14.558,5.144" +
            "c-4.186,4.945-6.372,11.652-6.563,20.126c-0.191,8.466,0.517,17.702,2.135,27.688C329.451,420.419,330.067,427.41,329.683,431.41z" +
            " M210.062,100.506c-0.572-0.188-1.047-0.763-1.425-1.713c0-1.709,0.854-2.38,2.568-1.997c1.143,0.378,2.24,1.807,3.284,4.281" +
            "c1.047,2.474,1.285,5.33,0.715,8.566c0,0.571-0.284,0.859-0.859,0.854c-2.096,0-2.856-1.902-2.284-5.708" +
            "C212.63,101.934,211.964,100.506,210.062,100.506z M284.008,105.077l-0.568,0.855c-1.52,0.95-2.275,1.141-2.275,0.572" +
            "c-0.767-5.142-2.479-8.092-5.141-8.854l-1.143-0.57c-1.335-1.143-0.671-1.809,1.991-1.999c0.571-0.191,1.427,0.093,2.57,0.855" +
            "c1.143,0.763,2.19,1.953,3.142,3.571C283.532,101.127,284.008,102.98,284.008,105.077z",

            "M217.484,121.631c0,1.143,0.479,1.619,1.431,1.43c0.76,0,1.565-0.905,2.424-2.713c0.857-1.804,2.334-2.803,4.425-2.996" +
            "v-0.003h-2.856C219.293,117.92,217.484,119.347,217.484,121.631z",

            "M242.326,118.208c1.903-0.572,3.571-0.14,4.998,1.287c1.425,1.425,2.522,2.046,3.284,1.853" +
            "c1.138-0.568,1.425-1.427,0.854-2.568C249.94,116.305,246.896,116.115,242.326,118.208z"
        ]
    }
]

const GNU_path = [
    {
        fill: "#FFF",
        stroke: "#000000",
        path: ["M43.465 28.964c-3.7.258-13.184 5.864-13.58 8.538-.213 1.44 2.815-1.16 4.347-.787 1.828.445 3.207 2.018 3.487.455 1.045-5.836 7.423-8.323 5.746-8.206z"
        ]
    },
    {
        fill: "#ee7000",
        stroke: "#000000",
        path: ["M50.55 75.581L47.5 87.77l-4.577 10.663 2.615 2.612 10.678-4.135 6.537-4.57 3.486 4.57 5.448 11.099 6.755 12.404 7.845 9.794 9.588 3.7 8.063.434 6.538-8.487 2.179-2.83h5.23l1.525-1.74.872-2.394-1.308-3.047-.218-2.176 3.705-.435.871-3.265-1.96-3.264 1.525-4.135 3.05-2.176 2.397-3.7-.436-4.788-1.743-1.74-3.486-.436-3.27-1.088-2.832-1.959.872-3.047 1.09-7.399 3.704 3.482 7.627 5.006 8.063.217 1.743-1.74-3.923-3.483-4.14-6.093 8.063-2.177 7.627-4.787 5.665-8.705 1.308-9.358-3.05-11.1-4.36-6.745-8.716-7.182-9.37 1.088-8.934 2.612-4.576-.218 1.307 2.176 6.32 1.088 5.665.435 7.627 3.047 4.358 8.488-.435 6.964-1.308 5.658-3.486 4.57-4.577.653-6.319-3.264-6.319-7.4-8.934-7.399-7.845-2.176-7.191 2.394-3.27 1.741-5.229-3.264-11.332-1.524-6.537 1.959-5.884 4.57-4.576 5.658-5.23 6.311-5.447 3.265-7.845-.653-4.576-4.135v-7.181l1.96-6.53 3.487-5.44 4.359-4.135 7.19-3.482 7.41-.217 8.063.217 5.665-2.176-6.537-1.741-6.319-2.83-6.755-1.74-7.627 1.088-10.242 3.917-7.41 5.223-5.229 9.358-1.307 9.575-.218 5.441 1.525 6.964 3.269 6.529 5.883 6.31 7.845 1.96 6.973-.871z"
        ]
    },
    {
        fill: "#000000",
        stroke: "#000000",
        path: ["M52.701 20.002c-14.692.013-34.984 9.819-32.492 34.014 2.666 25.88 20.46 27.667 27.397 27.361-1.426 6.466-2.584 12.31-7.908 17.989-7.465 7.964 15.912 5.118 23.74-3.352-.725 3.87-1.507 9.42 1.613 14.285.581.906.946-2.411 1.674-2.144.68.25-.022 7.635 3.779 9.844.704.41 1.242-1.532 1.694-2.267 1.342-2.18.553 8.923 6.148 11.163.815.326.976-1.25 1.554-1.88 6.212 14.337 32.415 19.578 31.234 3.827-.564-3.567 2.633-5.631 5.453-4.317 2.82 1.315 7.332-4.32 3.385-8.825 3.631-1.409 7.745-4.58 4.79-6.76-4.142-2.887.451-5.64 3.105-8.354 4.36-4.459 1.557-12.681-2.447-11.545-3.325.944-5.917-1.17-7.236-2.557.412-2.374 1.469-4.78 1.393-7.788 10.11 13.777 24.448 7.805 24.267 5.089-.16-2.385-4.493.812-9.812-8.407 11.089-1.244 14.564-3.811 20.439-17.644 6.314-14.869-8.227-39.898-23.531-34.253-8.03 2.962-11.911 3.429-17.063 3.549-1.35.031.849 3.057 4.437 3.844 5.234 1.148 12.228-.888 18.21 4.953 6.876 6.715 3.187 26.817-5.852 23.763-9.04-3.053-11.298-14.733-22.996-19.512-7.64-3.122-13.747.41-17.066 3.236a23.943 23.943 0 0 0-1.81-1.511c-9.837-7.435-22.26-4.873-31.903 9.294-8.043 11.816-17.3 10.028-20.073 4.247-4.443-9.264 7.047-26.953 23.93-24.696 3.661.455 13.25.262 13.422-3.4.071-1.5-3.743.416-9.7-4.165-2.602-2-6.877-3.085-11.775-3.08zm29.947 34.573c9.685-.082 15.25 5.194 18.921 4.912 3.04-.234 5.445-2.423 6.876-2.836C116.95 54.196 124.8 60.77 128 68.986c3.972 10.205 7.303 13.668 9.602 14.19 1.3.295-4.173 2.319-9.043-3.782-1.228-1.538-1.482 2.637-3.919-.313-3.267-3.957-3.729-9.27-5.14-13.324-.87-2.502-3.36-5.219-3.9-4.541-.72.906 2.166 5.53 1.655 7.943-2.776-2.31-6.441-.57-7.44-.632-.878-.055-1.233-1.558-1.488-1.399-.336.21-.089 1.022-.272 2.437-.098.75-.662 1.282-.457 2.026.563 2.05 5.04 6.56 6.308 10.879 1.264 4.298 5.134 10.218 9.92 8.633 3.727-1.235 4.884 6.293 1.5 9.109-3.384 2.816-7.402 5.138-4.227 8.165 2.068 1.971 2.138 4.896-2.069 4.505-5.78-1.18-12.063 2.6-16.165 2.395-5.452-.376-10.153-6.71-11.28-9.15-1.129-2.441-1.318 1.22 1.126 4.599 2.444 3.38 8.837 9.294 17.297 5.914 8.46-3.38 11.278 2.44 9.022 4.506-2.256 2.065-11.28-.376-15.228 2.628-2.646 2.014-3.57 6.008-1.34 9.225-16.109-1.64-20.52-15.306-22.808-30.725.185-2.718-3.053 2.163-3.466 3.61-.684 2.393-3.538-11.378-2.896-14.157 1.102-4.767-1.635-1.793-2.788.514-1.009 2.02-1.782-3.27-.785-5.22 2.58-5.048 2.772-6.051 3.627-16.946.694-8.847 5.316-7.753 6.3-8.821.597-.649.08-1.213-2.537-.752-3.196.563-8.838 3.192-8.838 13.142 0 4.99-3.38 10.499-4.384 9.249-1.576-1.961-2.911 6.857-3.71 7.458-.798.601-.865-2.654-2.52-.5-1.992 2.591-2.737 4.764-8.093 7.076-8.008 3.456 1.35-4.268 1.883-11.36.58-7.696 2.95-23.328 17.95-26.663 4.148-.922 9.162-4.294 13.25-4.329zm30.554 15.727c1.632.154 3.538.329 4.328 1.863 1.362 2.645.533 6.155-.191 11.157-.38 2.625-1.437.527-2.557-3.711-1.281-4.85-4.938-5.447-5.325-7.75-.271-1.617 1.771-1.746 3.745-1.56z"
            ,
            "M93.253 73.3c0 1.556-1.263 2.817-2.82 2.817s-2.82-1.26-2.82-2.816 1.263-2.816 2.82-2.816 2.82 1.26 2.82 2.816z"
            ,
            "M87.023 77.826c1.05.157.753-.251.446-.622-3.828-4.62 1.207-8.535 6.95-5.297.792.446 2.352-.99.748-2.315-.227-.188-.289-3.142-.747-3.311-.458-.17-.423 2.619-1.044 2.55-2.953-.728-7.448-.258-8.809 2.942-.706 1.66-.458 4.507 2.456 6.053zm25.19 17.48s-7.171-8.078-14.127-5.168c-6.956 2.91-3.278 10.885-2.057 10.885-.718-3.389-.836-8.35 4.042-9.669 4.23-1.033 9.194 4.58 10.904 6.008 1.566 1.308 3.001-.815 1.238-2.056z"
            ,
            "M105.725 100.652c.176-.887-2.111-6.482-6.115-5.406-4.994 1.34-.653 5.963 1.777 4.306.733-.5.93-.87 1.34-.77 1.157.28 1.402 1.66 1.464 2.493.094 1.273 1.415-.02 1.534-.623zM117.222 73.3c0 1.556-1.263 2.817-2.82 2.817s-2.82-1.26-2.82-2.816 1.262-2.816 2.82-2.816 2.82 1.26 2.82 2.816z"
        ]
    },
    {
        fill: "#FFF",
        stroke: "#000000",
        path: ["M92.845 72.038a1.079 1.079 0 1 1-2.158-.001 1.079 1.079 0 0 1 2.158.001zm24.003.002a1.079 1.079 0 1 0-2.158.002 1.079 1.079 0 0 0 2.158-.002z"
        ]
    },
    {
        fill: "#2e3436",
        stroke: "#000000",
        path: ["M54.134 23.114a28.79 28.79 0 0 0-4.05.328c3.616 2.313-.624 2.206-1.95 2.284-8.238.482-14.344 4.035-13.09 3.737 2.85-.677 7.663.286 4.302 1.446-7.24 2.497-13.173 4.287-15.24 18.876-1.174 8.278 4.605 19.232 4.432 17.696-.654-5.801 1.768-8.711 2.344-6.066 1.452 6.66 4.876 11.588 7.666 12.54-1.823-3.896-2.419-9.859.28-6.958 3.429 3.686 6.18 5.426 11.436 5.203 0 0 6.597-11.78 16.692-15.035 7.42-2.393-4.83-2.566 2.702-4.333 5.022-1.179 11.113-.903 9.195-1.635-5.698-2.175-.036-3.051 3.837-2.6 12.426 1.45 16.6 12.3 23.659 6.703 1.296-1.027 3.023-3.353 4.75-3.372 1.727-.018-.874 2.282 2.455 1.836 5.015-.672 2.908.839 3.742 1.006 3.1.623 6.131 3.122 6.131 3.122S111.02 36.894 100.21 44.003c-1.799 1.183-1.028 1.796.367 1.133 2.128-1.013 7.175-.134 3.453.397-5.063.722-5.979 4.383-5.979 4.383-21.311-17.808-33.081-3.882-39.42 4.859-4.176 6.24-13.38 11.398-19.469 6.94-4.957-3.629-2.26 3.25-4.256.596-4.633-6.163-.748-16 1.682-19.75 3.211-4.957 6.104-8.066 9.319-10.005 3.214-1.94-2.836-3.46.152-3.733 2.987-.273 10.431-1.313 17.922.221 1.265.26 4.774.432 6.616-.558-5.466-.813-7.939-5.414-16.462-5.372zm73.222 37.633s11.863 7.214 14.871-6.738c.451-2.091 2.471.552 3.207 2.091.711 1.485 2.047-2.241.834-5.217-1.074-2.636-2.88-7.581-1.895-6.593 2.256 2.266 2.513 1.178 1.662-1.559-.85-2.737-2.81-7.124-9.773-10.395-3.262-1.532-6.253-2.329-9.542-2.493-3.289-.165-6.875.303-8.138-.826 2.791 0 10.181-.795 13.56-2.39 8.631-4.073 31.849 15.846 17.562 37.036-2.292 3.4.617-4.04-1.246-2.75-2.012 1.394-3.642 6.202-9.233 7.677-1.937.51 1.229-1.279.672-3.42-.425-1.636-6.77 1.977-12.541-4.424z"
        ]
    }
]

const linux_path = [
    {
        fill: "#FFF",
        stroke: "#000000",
        path: [
            "M208.115 21.372c-3.203 0-3.74.04-5.869.597-2.626.696-4.158 1.571-5.949 3.382-.915.895-1.373 1.472-1.81 2.208-1.094 1.89-1.81 4.04-2.248 6.944-.24 1.412-.26 1.93-.24 5.431 0 3.681.439 14.902.697 18.264.18 2.229.1 2.468-1.77 5.074a82.806 82.806 0 0 0-2.03 2.964c-1.253 1.93-3.024 4.417-4.476 6.327-2.686 3.462-3.363 4.735-5.054 9.331-1.631 4.496-2.626 6.725-5.033 11.4-1.234 2.348-1.552 3.343-1.612 5.014-.08 1.432.12 3.422.338 3.78.18.239.398.298.836.18-.06.059-.1.099-.14.118-.696.458-1.492 1.433-1.989 2.666-.02.02-.02.06-.04.08-.179.279-.378.756-.617 1.492-.716 2.03-1.313 2.925-2.387 3.502-.915.497-1.73.617-4.118.617-2.467 0-3.005.119-3.74.756-1.314 1.114-1.513 3.322-.617 6.386.815 2.766.775 4.039-.279 7.143-.577 1.71-.657 2.069-.657 2.805 0 .557.06.975.18 1.233.258.538 1.074 1.194 1.87 1.532.895.339 5.391 1.453 8.614 2.09 4.994 1.014 6.785 1.551 11.42 3.402 4.119 1.631 5.87 2.228 7.262 2.447.657.1 2.01-.02 2.627-.259.736-.259 1.432-.736 2.964-2.03 2.706-2.267 4.178-2.984 7.202-3.461 1.134-.18 2.169-.2 10.823-.2 5.253 0 9.888.04 10.306.1.975.12 1.353.438 2.169 1.87 1.253 2.249 2.785 3.244 5.57 3.661 1.314.2 3.562.22 4.597.06 2.268-.378 3.402-1.054 5.968-3.62 2.985-3.005 5.77-4.895 9.69-6.606 1.989-.876 2.884-1.373 5.232-2.965 2.885-1.95 3.442-2.566 3.442-3.84 0-1.333-.716-2.168-3.363-3.919-2.526-1.671-3.66-2.686-4.715-4.238-.736-1.094-.995-1.93-1.094-3.561-.04-.756-.12-1.273-.219-1.592-.1-1.134-.557-2.427-1.373-2.845-1.134-.597-1.532-.418-1.91-.179 1.274-1.432 1.691-2.109 2.11-3.342.735-2.189.576-4.636-.697-11.002-1.472-7.402-3.98-12.694-9.152-19.339-3.283-4.238-4.616-6.347-7.819-12.355-1.592-3.004-2.05-4.039-2.427-5.65-.557-2.328-.816-4.417-1.234-10.366-.398-5.55-.676-7.839-1.194-9.769-1.372-5.252-5.49-9.231-11.24-10.883-2.448-.696-3.502-.835-6.805-.835z"
        ]
    },
    {
        fill: "#f8bf11",
        stroke: "#000000",
        path: [
            "M220.333 54.202c0 2.775-3.306 3.361-4.909 4.356-1.492 1.382-10.083 5.285-12.36 5.285-3.66-.774-8.115-6.236-8.69-9.862 0-2.112 2.687-3.803 4.19-5.185 1.493-1.382 3.217-2.687 6.158-2.134 2.278 0 5.838 1.084 7.33 2.466 2.985.995 8.28 1.636 8.28 5.074zm-60.188 74.151c3.4 1.548 11.321 3.527 14.107 3.859 1.869.774 14.207 3.648 17.048 3.648 4.212-2.985 4.909-7.507 3.726-12.084-5.252-8.48-9.309-19.59-19.126-23.416-.984.486-1.792 1.802-2.145 2.023-.708.453-1.493 1.437-1.99 2.665-.52 1.282-.995 2.852-1.575 5.14-1.134 2.278-5.765.222-8.937 1.88-1.157 3.505.817 12.15-1.108 16.285zm91.387-12.99c2.123 1.735 5.45 3.029 6.954 5.914-2.863 3.417-5.329 4.622-8.955 6.347-4.975 2.365-8.093 4.588-10.37 6.135-2.278 1.99-7.562 3.207-9.961 2.875-1.515-.995-3.218-13.079-2.665-17.026 0-2.1-2.576-10.514 1.548-15.644 3.991-.763 7.418 2.886 9.95 5.373 2.09-1.404 5.395-3.56 7.894-4.101.818-.188.851-1.04 2.565-.144.818.431 1.293 1.78 1.382 2.93.144 1.857.332 5.793 1.658 7.34z"
        ]
    },
    {
        fill: "#000000",
        stroke: "#000000",
        path: [
            "M188.658 138.513c-1.393-.22-3.15-.773-7.263-2.432-4.644-1.88-6.424-2.322-11.421-3.427-3.217-.553-7.73-1.714-8.61-2.068-.797-.32-1.625-.984-1.879-1.525-.118-.243-.18-.675-.18-1.227 0-.752.08-1.084.66-2.798 1.051-3.117 1.102-4.389.284-7.153-.906-3.062-.694-5.273.611-6.39.738-.63 1.275-.74 3.737-.74 2.393 0 3.201-.122 4.127-.63 1.067-.587 1.668-1.471 2.375-3.505.454-1.316.752-1.836 1.04-1.836.232 0 .43.575.43 1.272 0 .619-.696 3.228-1.039 3.902-.364.73-.862 1.294-1.436 1.626-1.07.63-3.132.796-5.394.453-1.445-.232-2.274-.177-2.827.155-.818.497-.952 1.614-.358 2.996 1.15 2.664 1.37 3.24 1.613 4.135.289 1.072.335 2.012.154 3.128-.18 1.106-.498 1.802-1.436 3.118-.485.686-.928 1.415-.987 1.636-.165.597.079 1.05.738 1.393.56.277 8.537 2.344 14.173 3.616 1.736.442 4.898 1.216 7.02 1.769 2.134.552 4.346.995 4.92 1.105 1.78.221 3.428 0 4.567-.663 1.58-.995 2.686-3.284 2.819-5.948.088-1.758-.299-3.339-1.327-5.384-.785-1.57-1.172-2.178-4.898-7.806-6.578-9.906-9.43-13.211-11.862-13.72-.785-.155-1.305-.066-2.355.41-1.006.452-1.35.475-1.592.11-.233-.354-.42-2.333-.354-3.77.077-1.67.398-2.665 1.614-5.03 2.41-4.666 3.394-6.9 5.041-11.388 1.692-4.6 2.377-5.87 5.042-9.342a104.45 104.45 0 0 0 4.477-6.313 131.27 131.27 0 0 1 2.046-2.974c1.857-2.61 1.946-2.852 1.769-5.075-.266-3.35-.708-14.582-.708-18.253-.011-3.493.011-4.024.232-5.44.454-2.891 1.161-5.062 2.267-6.941.42-.734.895-1.315 1.79-2.219 1.792-1.806 3.34-2.673 5.96-3.359 2.134-.558 2.675-.614 5.87-.61 3.295.002 4.345.132 6.8.838 5.749 1.651 9.872 5.634 11.254 10.877.509 1.935.785 4.235 1.183 9.785.42 5.937.675 8.026 1.239 10.37.376 1.592.829 2.642 2.42 5.638 3.207 6.015 4.534 8.115 7.817 12.339 5.174 6.655 7.673 11.94 9.154 19.347 1.272 6.368 1.427 8.812.697 11.012-.442 1.326-.873 1.99-2.388 3.66-3.184 3.526-6.733 5.737-9.165 5.737-2.211 0-4.235-1.503-5.683-4.234-.674-1.504-.586-2.709-2.52-2.278-.94.255-1.714 1.393-1.947 2.864-.176 1.05-.143 5.074.045 6.08.077.454.342 1.802.564 2.985.398 2.046.42 2.267.42 4.367 0 1.935-.045 2.521-.365 4.644-.299 1.99-.354 2.675-.32 3.759.043 1.26.066 1.382.441 2.167.454.995 1.449 2.1 2.311 2.653 1.902 1.216 4.555 1.327 6.788.221.63-.331 1.548-.995 3.096-2.21 2.51-2.035 4.378-3.329 5.793-4.047.542-.266 1.846-.763 2.897-1.106 4.356-1.404 6.346-2.244 7.451-3.162 1.316-1.072 1.946-2.233 1.714-3.107-.299-1.083-1.548-1.857-4.102-2.52-1.923-.509-2.388-.741-3.173-1.603-.696-.763-1.238-1.858-1.636-3.317-.387-1.426-.442-3.737-.11-4.643.232-.642.464-.94.73-.94.309 0 .464.542.552 1.99.11 1.614.365 2.465 1.106 3.549 1.05 1.559 2.166 2.565 4.698 4.245 2.643 1.747 3.372 2.587 3.372 3.925 0 1.271-.564 1.89-3.438 3.825-2.355 1.592-3.24 2.1-5.23 2.963-3.924 1.714-6.71 3.615-9.706 6.6-2.565 2.543-3.682 3.317-5.97 3.649-1.029.11-3.273.11-4.589-.11-2.786-.332-4.3-1.327-5.572-3.65-.807-1.436-1.183-1.768-2.156-1.879-.42 0-5.063-.11-10.326-.11-8.645 0-9.685.11-10.801.221-3.03.553-4.522 1.216-7.22 3.427-1.525 1.327-2.222 1.77-2.963 2.1-.608.222-1.967.333-2.62.222zm9.972-7.13c.244-.21.609-.697.819-1.084.331-.62.376-.807.409-1.758.077-1.747-.299-2.73-1.537-4.035-.851-.896-.973-1.283-.487-1.504.454-.199 1.029.055 2.057.918 1.946 1.647 3.095 1.924 7.34 1.835 4.567-.11 7.054-.586 9.564-1.846 1.625-.818 2.698-1.747 4.058-3.55.961-1.26 1.393-1.69 1.934-1.912.896-.376 1.371.354 1.35 2.09-.012.807-.1 1.315-.465 2.664-.995 3.593-1.305 5.617-1.028 6.645.165.597.685 1.05 1.16 1.006.332-.033.343-.055.432-.697.044-.365.232-1.603.42-2.764.177-1.15.398-2.642.497-3.316.232-1.747.41-7.165.42-13.046.011-5.075.011-5.086.277-5.86.21-.597.398-.895.829-1.326.674-.664 1.305-.907 2.73-1.007l.952-.077.132-.674c.32-1.537 1.238-2.41 3.052-2.897.586-.155 1.171-.21 2.432-.21 1.824 0 2.333.11 3.98.907.74.353 1.382.475 1.382.265 0-.166-.896-1.006-1.614-1.515a7.998 7.998 0 0 0-1.438-.796c-.563-.232-.773-.376-.796-.541-.022-.133.144-.874.365-1.659.642-2.322.852-3.792.863-6.003.022-3.637-.62-6.048-2.731-10.127-1.957-3.781-4.024-6.556-5.66-7.595-.476-.288-1.04-.487-1.04-.365 0 .044.398.63.874 1.315 2.255 3.195 4.599 7.275 5.594 9.763.807 1.99 1.415 4.687 1.603 7.142.32 4.024-.774 7.462-2.654 8.302-.375.177-.796.244-1.713.266-1.46.055-1.659-.022-2.046-.796l-.276-.553-.066-4.422c-.122-7.53-.476-8.812-4.423-15.943-1.216-2.189-1.459-2.764-1.979-4.754-1.06-4.09-2.09-6.49-3.703-8.656-2.466-3.295-2.786-4.666-1.802-7.706.63-1.98.619-2.996-.045-3.67-.486-.498-.862-.675-3.084-1.383-3.372-1.072-4.931-2.034-5.362-3.305-.431-1.25-.122-3.284.652-4.29.553-.73 1.26-1.04 2.344-1.04.719.012 1.006.067 1.504.288.762.365 1.37.885 1.68 1.47.332.63.32 2.123-.022 3.218-.564 1.78-.542 1.592-.144 1.946.719.64 1.858.696 2.355.1.431-.51.564-1.029.62-2.488.066-1.592-.1-2.654-.753-4.655-.895-2.742-1.79-3.538-4.5-3.98-2.022-.332-3.128-.066-4.145.984-1.592 1.658-2.388 4.3-2.068 6.954.177 1.47.144 1.537-.685 1.272-.74-.233-2.366-.42-3.306-.387-1.006.044-1.094-.045-1.094-1.172-.011-4.588-1.393-7.087-3.925-7.065-1.758 0-3.184 1.338-3.715 3.46-.21.83-.166 3.207.067 4.589.475 2.72 1.503 4.08 2.31 3.018.332-.453.62-1.028.62-1.216 0-.078-.255-.255-.553-.398-.332-.155-.63-.398-.763-.62-.63-1.005-.94-2.808-.675-3.77.343-1.216 2.012-1.967 3.162-1.426.973.465 2.012 2.61 1.902 3.958-.089 1.073-.288 1.404-1.26 2.123-.487.354-1.272.995-1.758 1.426s-1.084.929-1.327 1.106c-1.238.895-1.935 1.946-1.935 2.94 0 .653.265 1.007 1.095 1.416.652.331 1.238.906 1.857 1.813.83 1.194 1.813 1.57 4.069 1.559 2.752-.011 5.218-.597 9.84-2.322 2.509-.94 3.205-1.238 3.35-1.46.408-.596.884-1.016 1.171-1.016.387 0 .73.364.73.762 0 .675-1.04 1.228-4.644 2.455a44.003 44.003 0 0 0-3.648 1.47c-1.902.907-2.432 1.095-3.682 1.338-1.028.199-3.405.221-4.71.044-1.06-.144-1.702-.066-1.647.21.055.288 2.51 2.2 3.074 2.41.796.277 2.366.332 3.383.1 1.537-.332 6.39-2.421 8.8-3.77.807-.453 1.26-.641 1.548-.641.486-.011.862.298.862.685 0 .42-.818 1.139-1.713 1.515-1.581.641-1.913.818-3.483 1.813-2.145 1.37-3.084 2.056-4.5 3.295-1.514 1.315-1.945 1.492-3.626 1.514-1.338.011-1.747-.121-2.62-.873-.686-.586-2.322-2.62-2.786-3.472-.487-.884-1.57-2.111-1.858-2.111-.187 0-.21.044-.53 1.437-.221.995-1.04 2.874-2.366 5.472-1.592 3.13-1.67 3.406-1.67 6.69 0 2.741.067 2.509-1.271 4.366-1.636 2.3-4.179 8.303-4.787 11.332-.464 2.267-.785 6.125-.697 8.292.067 1.725-.022 2.233-.43 2.488-.42.265-.918-.011-1.947-1.028-1.614-1.626-2.133-2.974-2.122-5.55.01-1.637.154-2.897.475-4.113.276-1.04.288-1.338.033-1.283-.265.045-.862 1.272-1.15 2.366-.176.653-.243 1.327-.287 2.698-.044 1.68-.033 1.924.232 3.095a10.39 10.39 0 0 0 1.835 3.992c1.338 1.769 8.115 7.783 12.626 11.221 1.084.818 2.289 1.847 2.687 2.278 2.388 2.587 1.923 4.953-1.338 6.777-.509.287-.929.542-.929.564s.42.608.929 1.282c1.868 2.52 2.952 4.367 3.328 5.66.254.852.243 2.08-.033 2.864-.111.354-.177.641-.133.641s.276-.22.52-.387zm1.913-82.322c-.343-.652.299-1.216 1.393-1.216.387 0 .73.044.763.11.077.133-.298.332-.63.332-.2 0-.31.111-.476.476-.176.387-.276.475-.574.497-.266.022-.376-.022-.476-.199zm6.556-.475c-.641-.232-1.139-.553-1.017-.675.033-.033.41-.088.83-.132.994-.089 1.37.055 1.37.497 0 .221-.077.376-.21.454-.122.055-.232.11-.254.1-.011 0-.343-.111-.719-.244zm-23.018 30.99c1.061-1.095 1.36-1.648 1.294-2.433-.034-.542-.244-.73-.686-.62-.32.078-.497.41-.785 1.416-.121.486-.32.807-.774 1.316-.608.685-.718.94-.475 1.183.254.254.464.132 1.426-.863zm42.52-18.663c.233-.144.697-1.282.697-1.714 0-.342-.066-.497-.343-.751-.188-.177-.387-.321-.442-.321s-.486-.177-.962-.409a5.768 5.768 0 0 1-1.58-1.106c-.399-.376-.786-.696-.852-.696s-.155.133-.199.287c-.122.509.055 1.294.52 2.223.398.829.541.995 1.459 1.746.984.807 1.349.962 1.703.741zm-26.6-14.804c.133-.342.1-.608-.243-1.724-.144-.487-.354-.896-.575-1.139-.32-.343-.376-.365-.63-.232-.365.199-.332.641.1 1.127.32.365.597 1.062.73 1.858.088.508.442.575.618.11zm15.578-.31c.243-.287.066-1.658-.265-2.166-.343-.52-1.14-.995-1.77-1.061-.42-.056-.497-.023-.618.188-.155.287-.078.375.464.541.685.221 1.316 1.161 1.481 2.2.067.387.122.465.321.465a.57.57 0 0 0 .387-.166zm.74-14.891c.797-.55.852-.574 1.615-.594.973-.025 1.183-.107 1.183-.45 0-.534-1.835-2.161-2.61-2.305-.773-.146-1.05.274-1.204 1.847-.067.589-.144.834-.398 1.15-.343.434-.398.689-.177.908.22.226.696.06 1.592-.556z"
        ]
    }
]

const bezier = new Bezier(bezier_verices);
const gnusvg = new SVG(GNU_path);
const linuxsvg = new SVG(linux_path);

world.addElement(bezier)
bezier.translate(-250,0)
world.addElement(gnusvg)
world.addElement(linuxsvg)


world.translate(500, 300)

world.applyTransform(ctx);


draw();



///////////////////////// event handler ////////////////////////////////

c.addEventListener("mousemove", function (e) {
    let rect = e.target.getBoundingClientRect();
    let x = e.clientX - rect.left;
    let y = e.clientY - rect.top;

    //console.log(x,y)

    if (drag) {
        is_dragging = true;
        let sf = world.getScaleFactor()
        let rest = {
            x: (x - drag_point.x) / sf.x,
            y: (y - drag_point.y) / sf.y
        }
        world.translate(rest.x, rest.y);
        drag_point = {
            x: x,
            y: y
        }
        world.applyTransform(ctx);
        draw();
    } else {

        e.preventDefault();
        //handle hitttest
        //el = world.hitTest(x, y);
        //console.log(el)
        // = el[el.length - 1];
        //sel.innerHTML = (el && el.name) ? el.name : "";

    }
});

c.addEventListener("mousedown", function (e) {
    e.preventDefault()
    let rect = e.target.getBoundingClientRect();
    let x = e.clientX - rect.left;
    let y = e.clientY - rect.top;
    drag = true;
    drag_point = {
        x: x,
        y: y
    }

});

c.addEventListener("mouseup", function (e) {
    let rect = e.target.getBoundingClientRect();
    let x = e.clientX - rect.left;
    let y = e.clientY - rect.top;
    if (!is_dragging) {
        e.preventDefault();
        //handle hitttest
        el = world.hitTest(x, y);
        console.log(el)
        el = el[el.length - 1];
        sel.innerHTML = (el && el.name) ? el.name : "";
    }
    is_dragging = false;
    drag = false;
});

c.addEventListener("mouseleave", function () {
    drag = false;
    is_dragging = false;
});

function get_mask(e) {
    let m = 0b0000;
    if (e.ctrlKey) {
        m |= CTRL;
    }
    if (e.altKey) {
        m |= ALT;
    }
    if (e.shiftKey) {
        m |= SHIFT;
    }
    if (e.metaKey) {
        m |= META;
    }
    //console.log(m)
    return m;
}

document.body.addEventListener("keyup", function (e) {
    //console.log(e);
    switch (e.key) {
        case "w":
            world.translateAdd(0, -10);
            break;
        case "s":
            world.translateAdd(0, 10);
            break;
        case "a":
            world.translateAdd(-10, 0);
            break;
        case "d":
            world.translateAdd(10, 0);
            break;
        case "q":
            world.rotate(math.pi / 20);
            break;
        case "e":
            world.rotate(-math.pi / 20);
            break;
        case "z":
            world.scaleOnPoint(zoom_out, zoom_out, c.width / 2, c.height / 2);
            break;
        case "x":
            world.scaleOnPoint(zoom_in, zoom_in, c.width / 2, c.height / 2);
            break;
        case "n":
            el && el.rotate(math.pi / 100);
            break;
    }
    world.applyTransform(ctx);
    //draw();
});

c.addEventListener("wheel", function (e) {
    let rect = e.target.getBoundingClientRect();
    let x = e.clientX - rect.left;
    let y = e.clientY - rect.top;
    e.preventDefault();
    //console.log(e.metaKey)
    mask = get_mask(e);

    //rotazione globale
    if (!(mask ^ ALT)) {
        world.rotate(math.sign(e.deltaY) * rotate_angle);
    }

    //zoom veloce
    if (!(mask ^ CTRL)) {
        let z = 0;
        if (e.deltaY < 0) {
            z = zoom_inL;
        } else {
            z = zoom_outL;
        }
        let diff = math.multiply(math.inv(world.getTransformation()), [x, y, 1]);
        world.scaleOnPoint(z, z, math.subset(diff, math.index(0)), math.subset(diff, math.index(1)));
    }

    //zoom dell'oggetto
    if (!(mask ^ SHIFT)) {
        let z = 0;
        if (math.sign(e.deltaY) > 0) {
            z = zoom_out;
        } else {
            z = zoom_in;
        }
        el && el.scale(z, z)
    }

    if (!(mask ^ META)) {
        world.translate(translatel * e.deltaX, translatel * e.deltaY)
    }
    //rotazione globale veloce
    if (!(mask ^ (ALT | CTRL))) {
        world.rotate(math.sign(e.deltaY) * rotate_angleL);
    }
    //rotazione dell'oggetto
    if (!(mask ^ (ALT | SHIFT))) {
        //el.rotate(rotate_angle * math.sign(e.deltaY));
        //prendo le coordinate del mouse e le porto nel mondo
        let wp = math.multiply(math.inv(world.getTransformation()), math.matrix([x, y, 1]))
        el && el.rotateOnWorldPoint(math.sign(e.deltaY) * rotate_angle, math.subset(wp, math.index(0)), math.subset(wp, math.index(1)));
    }

    if (!(mask ^ (ALT | META))) {

    }

    if (!(mask ^ (META | CTRL))) {
        world.translate(translatelL * e.deltaX, translatelL * e.deltaY)
    }

    if (!(mask ^ (META | CTRL | ALT))) {

    }

    if (!(mask ^ (SHIFT | META))) {
        el && el.translate(translatel * e.deltaX, translatel * e.deltaY);
    }

    if (!(mask ^ (SHIFT | META | ALT))) {
    }

    if (!(mask ^ (SHIFT | META | CTRL))) {
        el && el.translate(translatelL * e.deltaX, translatelL * e.deltaY);
    }

    if (!(mask ^ (SHIFT | META | CTRL | ALT))) {

    }



    //zoom velore dell'oggetto
    if (!(mask ^ (CTRL | SHIFT))) {
        let z = 0;
        if (math.sign(e.deltaY) > 0) {
            z = zoom_outL
        } else {
            z = zoom_inL;
        }
        let wp = math.multiply(math.inv(world.getTransformation()), math.matrix([x, y, 1]))
        el && el.scaleOnWorldPoint(z, z, math.subset(wp, math.index(0)), math.subset(wp, math.index(1)))
    }
    //rotazione veloce dell'oggetto
    if (!(mask ^ (ALT | CTRL | SHIFT))) {
        let wp = math.multiply(math.inv(world.getTransformation()), math.matrix([x, y, 1]))
        el && el.rotateOnWorldPoint(math.sign(e.deltaY) * rotate_angleL, math.subset(wp, math.index(0)), math.subset(wp, math.index(1)));
    }
    //zoom normale
    if (!mask) {
        let z = 0;
        if (e.deltaY < 0) {
            z = zoom_in;
        } else {
            z = zoom_out;
        }
        let diff = math.multiply(math.inv(world.getTransformation()), [x, y, 1]);
        world.scaleOnPoint(z, z, math.subset(diff, math.index(0)), math.subset(diff, math.index(1)));

    }
    world.applyTransform(ctx)
    draw();
});